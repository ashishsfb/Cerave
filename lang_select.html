<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

</head>

<body>

    <h1>Select Language</h1>
    <form action="/exp.html">

        <label for="lang">Choose a language:</label>
        <!-- <select name="cars" id="cars">
        <option value="volvo">Volvo</option>
        <option value="saab">Saab</option>
        <option value="opel">Opel</option>
        <option value="audi">Audi</option>
        </select> -->
        <select name="ln" id="language"></select>
        <input type='hidden' id='prod_name' name='pd' value=''/>
        <input type='hidden' id='variant_name' name='vr' value=''/>
        <br><br>
        <input type="submit" value="Submit">
    </form>

    <p>Click the "Submit" button and the form-data will be sent to a page on the
        server called "action_page.php".</p>

    <hr>

</body>

<script type="text/javascript">

    

    $(document).on('ready', function () {

        var url_string = window.location.href; //window.location.href
        var url = new URL(url_string);

        var b = url.searchParams.get("pd");
        var c = url.searchParams.get("vr");

        var path = b + "/" + c + "/languages.json"
        
        document.getElementById('prod_name').value = b;
        document.getElementById('variant_name').value = c;

        $.getJSON(path, function (data) {
            $.each(data, function (key, value) {
                $("#language").append('<option name="' + key + '">' + value + '</option>');
            }); // close each()
        }); // close getJSON()

    });

   


</script>

</html>